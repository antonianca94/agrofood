<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuário</title>
    <script src="/public/js/register/send.js"></script>

        
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">



    <style>
        @import url('https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Inter:wght@200;300;400;500;600;700;800;900&display=swap');
        body {
            /* display: flex;
            justify-content: center;
            align-items: start; */
            height: 100vh;
            margin: 40px !important;
            font-family: 'Inter', sans-serif;
            background: #f1f1f1;
        }
        .register-container {
            padding: 40px;
            background-color: #fff; 
            border-radius: 10px; 
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); 
            margin-bottom: 40px !important;
        }
        .btn-primary {
            color: #fff;
            background-color: #d96900;
            border-color: #d96900;
        }
        .btn-primary:hover {
            color: #fff;
            background-color: #d96900;
            border-color: #d96900;
        }
        a {
            color: #d96900;
        }
        .icone-cadastro-produtor{
            color: #d96900;
            font-size: 1.2rem;
            line-height: 1.5rem;
        }
        label {
            font-size: 0.91rem;
            letter-spacing: 0px;
        }
        .form-control {
            font-size: 0.9rem;
        }
        .form-control:focus {
            border-color: #d96900;
            box-shadow: 0 0 0 0.25rem rgb(217 105 0 / 12%);
        }
    </style>
</head>
<body>
    <div class="d-flex justify-content-start mb-4">
        <div class="d-flex align-items-center justify-content-center">
            <i class="bi bi-person-bounding-box icone-cadastro-produtor pl-2 pr-2"></i> 
        </div>
        <h3 class="text-left m-0">Cadastro do Produtor</h3>
    </div>
    <% if (message.length > 0) { %>
        <div class="alert alert-danger" role="alert">
            <%= message[0] %>
        </div>
    <% } %>
    <div class="register-container">
        <div class="d-flex justify-content-start mb-4">
            <div class="d-flex align-items-center justify-content-center">
                <i class="bi bi-person icone-cadastro-produtor pr-2"></i> 
            </div>
            <h5 class="text-left m-0">Dados pessoais</h5>
        </div>
        <form action="/register" method="post" id="registerProductor">
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Nome</label>
                            <input type="text" class="form-control" id="name" name="name">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="surname" class="form-label">Sobrenome</label>
                            <input type="text" class="form-control" id="surname" name="surname">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="cpf" class="form-label">CPF</label>
                            <input type="text" class="form-control" id="cpf" name="cpf">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="username" class="form-label">Usuário</label>
                            <input type="text" class="form-control" id="username" name="username">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="email" class="form-label">E-mail</label>
                            <input type="text" class="form-control" id="email" name="email">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="password" class="form-label">Senha</label>
                            <input type="text" class="form-control" id="password" name="password">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="password" class="form-label">Repetir Senha</label>
                            <input type="text" class="form-control" id="password" name="password">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
            </div>
        <div class="register-hr mt-4 mb-5">
            <hr>
        </div>
        <div class="d-flex justify-content-start mb-4">
            <div class="d-flex align-items-center justify-content-center">
                <i class="bi bi-shop-window icone-cadastro-produtor pr-2"></i> 
            </div>
            <h5 class="text-left m-0">Dados da empresa</h5>
        </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="cnpf" class="form-label">CNPJ</label>
                            <input type="text" class="form-control" id="cnpj" name="cnpj">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Nome da Empresa</label>
                            <input type="text" class="form-control" id="company_name" name="company_name">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">CEP</label>
                            <input type="text" class="form-control" id="cep" name="cep" onchange="preencherDadosPorCEP()">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Rua</label>
                            <input type="text" class="form-control" id="street" name="street">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Bairro</label>
                            <input type="text" class="form-control" id="neighborhood" name="neighborhood">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Cidade</label>
                            <input type="text" class="form-control" id="city" name="city">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">Estado</label>
                            <input type="text" class="form-control" id="state" name="state">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="name" class="form-label">País</label>
                            <input type="text" class="form-control" id="country" name="country">
                            <div class="invalid-feedback" id="nameError"></div>
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">Cadastrar-se</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function preencherDadosPorCEP() {
            const cep = document.getElementById('cep').value;
            axios.get(`https://viacep.com.br/ws/${cep}/json/`)
                .then(response => {
                    const data = response.data;
                    document.getElementById('street').value = data.logradouro;
                    document.getElementById('neighborhood').value = data.bairro;
                    document.getElementById('city').value = data.localidade;
                    document.getElementById('state').value = data.uf;
                })
                .catch(error => console.error('Erro ao consultar CEP:', error));
        }
    </script>
</body>
</html>
